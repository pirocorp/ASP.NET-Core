@model ProductDetailsViewModel

@{
    this.ViewData["Title"] = this.Model.Name;
}

<!--Section: Block Content-->
<section class="m-5">

    <div class="row">
        <div class="col-md-6 mb-4 mb-md-0">
            <div id="mdb-lightbox-ui"></div>

            <div>
                <div class="row mx-1">
                    <div class="col-10 mb-0">
                        <figure class="rounded" id="product-image-container">
                            <a href="@this.Model.PictureUri"> <img src="@this.Model.PictureUri" class="img-fluid" alt="@this.Model.Name"></a>
                            @if (this.Model.Sold)
                            {
                                <img id="sold" src="~/img/sold.png" class="img-fluid" alt="sold">
                            }
                        </figure>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <h5>@this.Model.Name</h5>
            <p class="mb-2 text-muted text-uppercase small">@this.Model.TypeName</p>
            <div class="ratings">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
            </div>
            <p class="mt-2"><span class="mr-1"><strong>$12.99</strong></span></p>
            <p class="pt-1">
                @this.Model.Name @*TODO: Add description to Product entity and description can be used here*@
            </p>
            <div class="table-responsive">
                @*
                If additional properties are present in the future
                <table class="table table-sm table-borderless mb-0">
                    <tbody>
                        <tr>
                            <th class="pl-0 w-25" scope="row"><strong>Model</strong></th>
                            <td>Shirt 5407X</td>
                        </tr>
                        <tr>
                            <th class="pl-0 w-25" scope="row"><strong>Color</strong></th>
                            <td>Black</td>
                        </tr>
                        <tr>
                            <th class="pl-0 w-25" scope="row"><strong>Delivery</strong></th>
                            <td>USA, Europe</td>
                        </tr>
                    </tbody>
                </table>*@
            </div>

            <hr>
            
            @if (!this.Model.Sold)
            {
                <a class="btn btn-outline-primary btn-primary border-dark hover mx-1" asp-area="" asp-controller="Product" asp-action="Buy" asp-route-id="@this.Model.Id" type="button">Buy now</a>
                <a class="btn btn-outline-primary text-dark border-dark hover mx-1" data-toggle="modal" data-target="#buyConfirmationModal">
                    <i class="fa fa-shopping-cart p-0"></i>
                    Add to cart
                </a>
            }
            
            @if (this.User.IsInRole("Admin"))
            {
                <a class="btn btn-outline-warning btn-warning text-dark hover mx-1" asp-area="" asp-controller="Home" asp-action="Privacy" type="button">Edit</a>
                <a class="btn btn-outline-danger btn-danger text-dark hover mx-1" asp-area="" asp-controller="Home" asp-action="Privacy" type="button">
                    <i class="fa fa-shopping-cart p-0"></i>
                    Delete
                </a>
            }
        </div>
    </div>

</section>

<partial name="_ConfirmationAddToCart" />
